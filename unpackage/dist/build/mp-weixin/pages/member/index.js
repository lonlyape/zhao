(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/member/index"],{"155c":function(n,t,e){"use strict";(function(n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=e("2f62");function i(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,o)}return e}function c(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?i(Object(e),!0).forEach((function(t){s(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function s(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}var u=function(){e.e("components/common/cell").then(function(){return resolve(e("2a47"))}.bind(null,e)).catch(e.oe)},a=function(){e.e("components/popup-login").then(function(){return resolve(e("3362"))}.bind(null,e)).catch(e.oe)},r=function(){e.e("components/tabbar").then(function(){return resolve(e("3fe3"))}.bind(null,e)).catch(e.oe)},l=function(){e.e("components/remind").then(function(){return resolve(e("7e35"))}.bind(null,e)).catch(e.oe)},h=e("2ceb"),f={components:{cell:u,remind:l,tabBar:r,popupLogin:a},data:function(){return{cellGround:[],cellStyle:{arrow:"color:#dedede;"},cacheSize:0,isShowJingyi:!1,content:"",isPopupLogin:!1,showDao:!1}},computed:c({},(0,o.mapState)(["hasLogin","userInfo","isBindAccount"])),watch:{isPopupLogin:function(n){n||this.hasLogin&&this.checkBindAccount()}},created:function(){this.setCells()},onShow:function(){var t=this,e=n.getStorageInfoSync();this.cacheSize=e.currentSize,this.checkBindAccount(),this.isBindAccount&&this.request.post(this.api.checkWxAppLogin,{data:{session_key:this.userInfo.session_key,open_id:this.userInfo.open_id}}).then((function(e){e.code?t.login(e.data):"undefined"!==typeof e.msg&&n.showModal({title:"提示",content:e.msg,showCancel:!1,success:function(n){n.confirm&&t.logout()}})}))},onShareAppMessage:function(n){return{title:"全国建筑工程承包 找活 招工",path:"/pages/member/index"}},methods:c({},(0,o.mapMutations)(["login","logout","checkBindAccount"]),{showLogin:function(){this.hasLogin||(this.isPopupLogin=!0)},setShowDao:function(){this.showDao=!this.showDao},showPublishMenu:function(){var t=this;if(this.hasLogin){var e=["发布工程承包","发布招工信息","发布找活信息","发布找厂工信息","发布工厂直聘","发布材料"];n.showActionSheet({itemList:e,success:function(o){var i=["publish-chengbao","publish-zhaogong","publish-zhaohuo","publish-gczh","publish-gczp","publish-cailiao"];o.tapIndex<e.length-1?n.navigateTo({url:i[o.tapIndex]}):t.$refs.remind.setShowMask(!0)},fail:function(n){console.log("fail:",n)},complete:function(n){console.log("complete")}})}else this.isPopupLogin=!0},cellClick:function(n){n.path?this.jump(n.path):n.fun&&n.fun()},jump:function(t){this.hasLogin?n.navigateTo({url:t}):this.isPopupLogin=!0},signin:function(){var t=this;this.hasLogin?(n.showLoading({title:"签到中",mask:!0}),this.request.post(this.api.signin,{data:{user_id:this.userInfo.uid}}).then((function(e){n.hideLoading(),e.code&&(t.userInfo.integral=null!=e.data.userbean?e.data.userbean:t.userInfo.integral,t.userInfo.signin.today_is_signin=!0,t.setShowDao(),t.login(t.userInfo))})).catch((function(t){n.hideLoading(),console.log(t)}))):this.isPopupLogin=!0},clear:function(){var t=this;n.showLoading({title:"清除缓存中",mask:!0}),n.clearStorage(),setTimeout((function(){n.showToast({title:"清除成功",success:function(n){t.logout()}})}),1e3)},togglePopupForm:function(n){this.hasLogin?"open"==n?this.isShowJingyi=!0:(this.content="",this.isShowJingyi=!1):this.isPopupLogin=!0},bindContent:function(n){this.content=n.detail.value},popupFormSubmit:function(t){var e=this,o=t.detail.value,i=[{name:"content",checkType:"notnull",checkRule:"",errorMsg:"请输入您的建议/意见"}],c=h.check(o,i);c?(n.showLoading({title:"提交中",mask:!0}),this.request.post(this.api.onlineLeaveWord,{data:o}).then((function(t){n.hideLoading(),t.code?n.showToast({title:"提交成功"}):n.showModal({title:"提示",content:t.msg,showCancel:!1}),e.togglePopupForm("close")})).catch((function(t){n.hideLoading(),console.log(t)}))):this.func.msg(h.error)},setCells:function(){var t=this,e=[[{title:"我发布的信息",path:"publish-chengbao-list",icon:"../../static/dai_2/user_icon_1.jpg"}],[{title:"实名认证",fun:function(){n.showModal({title:"提示",content:"请往PC端进行实名认证",showCancel:!1})},icon:"../../static/dai_2/user_icon_2.jpg"},{title:"豆币记录",path:"bean-record",icon:"../../static/dai_2/user_icon_3.jpg"},{title:"意见反馈",fun:function(){t.togglePopupForm("open")},icon:"../../static/dai_2/user_icon_4.jpg"}],[{title:"清除本地缓存",fun:function(){t.clear()},icon:"../../static/dai_2/user_icon_5.jpg"}]];this.cellGround=e}})};t.default=f}).call(this,e("543d")["default"])},"5b2d":function(n,t,e){"use strict";(function(n){e("c74e");o(e("66fd"));var t=o(e("826a"));function o(n){return n&&n.__esModule?n:{default:n}}n(t.default)}).call(this,e("543d")["createPage"])},"826a":function(n,t,e){"use strict";e.r(t);var o=e("c334"),i=e("d62f");for(var c in i)"default"!==c&&function(n){e.d(t,n,(function(){return i[n]}))}(c);e("c137");var s,u=e("f0c5"),a=Object(u["a"])(i["default"],o["b"],o["c"],!1,null,"3eb56f07",null,!1,o["a"],s);t["default"]=a.exports},c137:function(n,t,e){"use strict";var o=e("e1ff"),i=e.n(o);i.a},c334:function(n,t,e){"use strict";var o,i=function(){var n=this,t=n.$createElement;n._self._c},c=[];e.d(t,"b",(function(){return i})),e.d(t,"c",(function(){return c})),e.d(t,"a",(function(){return o}))},d62f:function(n,t,e){"use strict";e.r(t);var o=e("155c"),i=e.n(o);for(var c in o)"default"!==c&&function(n){e.d(t,n,(function(){return o[n]}))}(c);t["default"]=i.a},e1ff:function(n,t,e){}},[["5b2d","common/runtime","common/vendor"]]]);