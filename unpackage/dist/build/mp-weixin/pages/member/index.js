(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/member/index"],{"155c":function(t,n,o){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=o("2f62");function i(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),o.push.apply(o,e)}return o}function c(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?i(Object(o),!0).forEach((function(n){s(t,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))}))}return t}function s(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}var u=function(){o.e("components/common/cell").then(function(){return resolve(o("2a47"))}.bind(null,o)).catch(o.oe)},a=function(){o.e("components/popup-login").then(function(){return resolve(o("3362"))}.bind(null,o)).catch(o.oe)},r=function(){o.e("components/tabbar").then(function(){return resolve(o("3fe3"))}.bind(null,o)).catch(o.oe)},l=o("2ceb"),h={components:{cell:u,tabBar:r,popupLogin:a},data:function(){return{cellGround:[],cellStyle:{arrow:"color:#dedede;"},cacheSize:0,isShowJingyi:!1,content:"",isPopupLogin:!1,showDao:!1}},computed:c({},(0,e.mapState)(["hasLogin","userInfo","isBindAccount"])),watch:{isPopupLogin:function(t){t||this.hasLogin&&this.checkBindAccount()}},created:function(){this.setCells()},onShow:function(){var n=this,o=t.getStorageInfoSync();this.cacheSize=o.currentSize,this.checkBindAccount(),this.isBindAccount&&this.request.post(this.api.checkWxAppLogin,{data:{session_key:this.userInfo.session_key,open_id:this.userInfo.open_id}}).then((function(o){o.code?n.login(o.data):"undefined"!==typeof o.msg&&t.showModal({title:"提示",content:o.msg,showCancel:!1,success:function(t){t.confirm&&n.logout()}})}))},methods:c({},(0,e.mapMutations)(["login","logout","checkBindAccount"]),{showLogin:function(){this.hasLogin||(this.isPopupLogin=!0)},setShowDao:function(){this.showDao=!this.showDao},showPublishMenu:function(){if(this.hasLogin){var n=["发布工程承包","发布招工信息","发布找活信息","发布找厂工信息","发布工厂直聘","发布材料"];t.showActionSheet({itemList:n,success:function(o){var e=["publish-chengbao","publish-zhaogong","publish-zhaohuo","publish-gczh","publish-gczp","publish-cailiao"];o.tapIndex<n.length-1?t.navigateTo({url:e[o.tapIndex]}):t.showModal({title:"提示",content:"材料发布请联系官方",success:function(t){console.log(t)}})},fail:function(t){console.log("fail:",t)},complete:function(t){console.log("complete")}})}else this.isPopupLogin=!0},cellClick:function(t){t.path?this.jump(t.path):t.fun&&t.fun()},jump:function(n){this.hasLogin?t.navigateTo({url:n}):this.isPopupLogin=!0},signin:function(){var n=this;this.hasLogin?(t.showLoading({title:"签到中",mask:!0}),this.request.post(this.api.signin,{data:{user_id:this.userInfo.uid}}).then((function(o){t.hideLoading(),o.code&&(n.userInfo.integral=null!=o.data.userbean?o.data.userbean:n.userInfo.integral,n.userInfo.signin.today_is_signin=!0,n.setShowDao(),n.login(n.userInfo))})).catch((function(n){t.hideLoading(),console.log(n)}))):this.isPopupLogin=!0},clear:function(){var n=this;t.showLoading({title:"清除缓存中",mask:!0}),t.clearStorage(),setTimeout((function(){t.showToast({title:"清除成功",success:function(t){n.logout()}})}),1e3)},togglePopupForm:function(t){this.hasLogin?"open"==t?this.isShowJingyi=!0:(this.content="",this.isShowJingyi=!1):this.isPopupLogin=!0},bindContent:function(t){this.content=t.detail.value},popupFormSubmit:function(n){var o=this,e=n.detail.value,i=[{name:"content",checkType:"notnull",checkRule:"",errorMsg:"请输入您的建议/意见"}],c=l.check(e,i);c?(t.showLoading({title:"提交中",mask:!0}),this.request.post(this.api.onlineLeaveWord,{data:e}).then((function(n){t.hideLoading(),n.code?t.showToast({title:"提交成功"}):t.showModal({title:"提示",content:n.msg,showCancel:!1}),o.togglePopupForm("close")})).catch((function(n){t.hideLoading(),console.log(n)}))):this.func.msg(l.error)},setCells:function(){var t=this,n=[[{title:"我发布的信息",path:"publish-chengbao-list",icon:"../../static/dai_2/user_icon_1.jpg"}],[{title:"实名认证",path:"certification",icon:"../../static/dai_2/user_icon_2.jpg"},{title:"豆币记录",path:"bean-record",icon:"../../static/dai_2/user_icon_3.jpg"},{title:"意见反馈",fun:function(){t.togglePopupForm("open")},icon:"../../static/dai_2/user_icon_4.jpg"}],[{title:"清除本地缓存",fun:function(){t.clear()},icon:"../../static/dai_2/user_icon_5.jpg"}]];this.cellGround=n}})};n.default=h}).call(this,o("543d")["default"])},"16c2":function(t,n,o){"use strict";var e,i=function(){var t=this,n=t.$createElement;t._self._c},c=[];o.d(n,"b",(function(){return i})),o.d(n,"c",(function(){return c})),o.d(n,"a",(function(){return e}))},"1b7a":function(t,n,o){},"5b2d":function(t,n,o){"use strict";(function(t){o("c74e");e(o("66fd"));var n=e(o("826a"));function e(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,o("543d")["createPage"])},"826a":function(t,n,o){"use strict";o.r(n);var e=o("16c2"),i=o("d62f");for(var c in i)"default"!==c&&function(t){o.d(n,t,(function(){return i[t]}))}(c);o("eb53");var s,u=o("f0c5"),a=Object(u["a"])(i["default"],e["b"],e["c"],!1,null,"7facbc46",null,!1,e["a"],s);n["default"]=a.exports},d62f:function(t,n,o){"use strict";o.r(n);var e=o("155c"),i=o.n(e);for(var c in e)"default"!==c&&function(t){o.d(n,t,(function(){return e[t]}))}(c);n["default"]=i.a},eb53:function(t,n,o){"use strict";var e=o("1b7a"),i=o.n(e);i.a}},[["5b2d","common/runtime","common/vendor"]]]);