(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/member/index"],{3216:function(t,n,e){"use strict";var o,i=function(){var t=this,n=t.$createElement;t._self._c},c=[];e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return c})),e.d(n,"a",(function(){return o}))},"37bb":function(t,n,e){"use strict";e.r(n);var o=e("3216"),i=e("d675");for(var c in i)"default"!==c&&function(t){e.d(n,t,(function(){return i[t]}))}(c);e("eba4");var s,u=e("f0c5"),a=Object(u["a"])(i["default"],o["b"],o["c"],!1,null,"75eacce1",null,!1,o["a"],s);n["default"]=a.exports},"702d":function(t,n,e){},"93b3":function(t,n,e){"use strict";(function(t){e("e6e1");o(e("66fd"));var n=o(e("37bb"));function o(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,e("543d")["createPage"])},bcf0:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("2f62");function i(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,o)}return e}function c(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?i(Object(e),!0).forEach((function(n){s(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):i(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function s(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var u=function(){e.e("components/common/cell").then(function(){return resolve(e("f591"))}.bind(null,e)).catch(e.oe)},a=function(){e.e("components/popup-login").then(function(){return resolve(e("5181"))}.bind(null,e)).catch(e.oe)},r=function(){e.e("components/tabbar").then(function(){return resolve(e("8b53"))}.bind(null,e)).catch(e.oe)},l=e("7d61"),h={components:{cell:u,tabBar:r,popupLogin:a},data:function(){return{cellGround:[],cellStyle:{arrow:"color:#dedede;"},cacheSize:0,isShowJingyi:!1,content:"",isPopupLogin:!1,showDao:!1}},computed:c({},(0,o.mapState)(["hasLogin","userInfo","isBindAccount"])),watch:{isPopupLogin:function(t){t||this.hasLogin&&this.checkBindAccount()}},created:function(){this.setCells()},onShow:function(){var n=this,e=t.getStorageInfoSync();this.cacheSize=e.currentSize,this.checkBindAccount(),this.isBindAccount&&this.request.post(this.api.checkWxAppLogin,{data:{session_key:this.userInfo.session_key,open_id:this.userInfo.open_id}}).then((function(e){e.code?n.login(e.data):"undefined"!==typeof e.msg&&t.showModal({title:"提示",content:e.msg,showCancel:!1,success:function(t){t.confirm&&n.logout()}})}))},methods:c({},(0,o.mapMutations)(["login","logout","checkBindAccount"]),{showLogin:function(){this.hasLogin||(this.isPopupLogin=!0)},setShowDao:function(){this.showDao=!this.showDao},showPublishMenu:function(){if(this.hasLogin){var n=["发布工程承包","发布招工信息","发布找活信息","发布找厂工信息","发布工厂直聘","发布材料"];t.showActionSheet({itemList:n,success:function(e){var o=["publish-chengbao","publish-zhaogong","publish-zhaohuo","publish-gczh","publish-gczp","publish-cailiao"];e.tapIndex<n.length-1?t.navigateTo({url:o[e.tapIndex]}):t.showModal({title:"提示",content:"材料发布请联系官方",success:function(t){console.log(t)}})},fail:function(t){console.log("fail:",t)},complete:function(t){console.log("complete")}})}else this.isPopupLogin=!0},cellClick:function(t){t.path?this.jump(t.path):t.fun&&t.fun()},jump:function(n){this.hasLogin?t.navigateTo({url:n}):this.isPopupLogin=!0},signin:function(){var n=this;this.hasLogin?(t.showLoading({title:"签到中",mask:!0}),this.request.post(this.api.signin,{data:{user_id:this.userInfo.uid}}).then((function(e){t.hideLoading(),e.code&&(n.userInfo.integral=null!=e.data.userbean?e.data.userbean:n.userInfo.integral,n.userInfo.signin.today_is_signin=!0,n.setShowDao(),n.login(n.userInfo))})).catch((function(n){t.hideLoading(),console.log(n)}))):this.isPopupLogin=!0},clear:function(){var n=this;t.showLoading({title:"清除缓存中",mask:!0}),t.clearStorage(),setTimeout((function(){t.showToast({title:"清除成功",success:function(t){n.logout()}})}),1e3)},togglePopupForm:function(t){this.hasLogin?"open"==t?this.isShowJingyi=!0:(this.content="",this.isShowJingyi=!1):this.isPopupLogin=!0},bindContent:function(t){this.content=t.detail.value},popupFormSubmit:function(n){var e=this,o=n.detail.value,i=[{name:"content",checkType:"notnull",checkRule:"",errorMsg:"请输入您的建议/意见"}],c=l.check(o,i);c?(t.showLoading({title:"提交中",mask:!0}),this.request.post(this.api.onlineLeaveWord,{data:o}).then((function(n){t.hideLoading(),n.code?t.showToast({title:"提交成功"}):t.showModal({title:"提示",content:n.msg,showCancel:!1}),e.togglePopupForm("close")})).catch((function(n){t.hideLoading(),console.log(n)}))):this.func.msg(l.error)},setCells:function(){var t=this,n=[[{title:"我发布的信息",path:"publish-chengbao-list",icon:"../../static/dai_2/user_icon_1.jpg"}],[{title:"实名认证",path:"certification",icon:"../../static/dai_2/user_icon_2.jpg"},{title:"豆币记录",path:"bean-record",icon:"../../static/dai_2/user_icon_3.jpg"},{title:"意见反馈",fun:function(){t.togglePopupForm("open")},icon:"../../static/dai_2/user_icon_4.jpg"}],[{title:"清除本地缓存",fun:function(){t.clear()},icon:"../../static/dai_2/user_icon_5.jpg"}]];this.cellGround=n}})};n.default=h}).call(this,e("543d")["default"])},d675:function(t,n,e){"use strict";e.r(n);var o=e("bcf0"),i=e.n(o);for(var c in o)"default"!==c&&function(t){e.d(n,t,(function(){return o[t]}))}(c);n["default"]=i.a},eba4:function(t,n,e){"use strict";var o=e("702d"),i=e.n(o);i.a}},[["93b3","common/runtime","common/vendor"]]]);